{"id":"tG80","dependencies":[{"name":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/node_modules/pdf-lib/es/utils/png.js.map","includedInParent":true,"mtime":1592665012000},{"name":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/node_modules/pdf-lib/src/utils/png.ts","includedInParent":true,"mtime":1583021455000},{"name":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/package.json","includedInParent":true,"mtime":1595590179201},{"name":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/.browserslistrc","includedInParent":true,"mtime":1593030548446},{"name":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/node_modules/pdf-lib/package.json","includedInParent":true,"mtime":1593029343256},{"name":"@pdf-lib/upng","loc":{"line":1,"column":17},"parent":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/node_modules/pdf-lib/es/utils/png.js","resolved":"/mnt/c/Users/anast/Documents/my coding/pdf-editor/node_modules/@pdf-lib/upng/UPNG.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PNG=exports.PngType=void 0;var e=r(require(\"@pdf-lib/upng\"));function r(e){return e&&e.__esModule?e:{default:e}}var n,t=function(e){if(0===e)return n.Greyscale;if(2===e)return n.Truecolour;if(3===e)return n.IndexedColour;if(4===e)return n.GreyscaleWithAlpha;if(6===e)return n.TruecolourWithAlpha;throw new Error(\"Unknown color type: \"+e)},o=function(e){for(var r=Math.floor(e.length/4),n=new Uint8Array(3*r),t=new Uint8Array(1*r),o=0,l=0,u=0;o<e.length;)n[l++]=e[o++],n[l++]=e[o++],n[l++]=e[o++],t[u++]=e[o++];return{rgbChannel:n,alphaChannel:t}};exports.PngType=n,function(e){e.Greyscale=\"Greyscale\",e.Truecolour=\"Truecolour\",e.IndexedColour=\"IndexedColour\",e.GreyscaleWithAlpha=\"GreyscaleWithAlpha\",e.TruecolourWithAlpha=\"TruecolourWithAlpha\"}(n||(exports.PngType=n={}));var l=function(){function r(r){var n=e.default.decode(r),l=e.default.toRGBA8(n);if(l.length>1)throw new Error(\"Animated PNGs are not supported\");var u=new Uint8Array(l[0]),a=o(u),i=a.rgbChannel,h=a.alphaChannel;this.rgbChannel=i,h.some(function(e){return e<1})&&(this.alphaChannel=h),this.type=t(n.ctype),this.width=n.width,this.height=n.height,this.bitsPerComponent=8}return r.load=function(e){return new r(e)},r}();exports.PNG=l;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":80}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":88}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":101}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":119}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":137}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":146}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":148}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":151}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":158}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":161}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":163}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":174}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":176}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":177}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":185}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":188}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":192}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":3,"column":6},"generated":{"line":1,"column":194}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":3,"column":21},"generated":{"line":1,"column":196}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":3,"column":22},"generated":{"line":1,"column":205}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":6},"generated":{"line":1,"column":208}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":16},"generated":{"line":1,"column":211}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":6},"generated":{"line":1,"column":215}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":19},"generated":{"line":1,"column":217}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":26},"generated":{"line":1,"column":224}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":4,"column":34},"generated":{"line":1,"column":226}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":236}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":1,"column":239}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":243}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":19},"generated":{"line":1,"column":245}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":26},"generated":{"line":1,"column":252}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":5,"column":34},"generated":{"line":1,"column":254}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":265}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":268}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":272}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":19},"generated":{"line":1,"column":274}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":26},"generated":{"line":1,"column":281}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":6,"column":34},"generated":{"line":1,"column":283}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":297}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":300}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":304}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":19},"generated":{"line":1,"column":306}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":26},"generated":{"line":1,"column":313}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":7,"column":34},"generated":{"line":1,"column":315}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":334}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":337}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":341}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":19},"generated":{"line":1,"column":343}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":26},"generated":{"line":1,"column":350}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":8,"column":34},"generated":{"line":1,"column":352}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":372}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":378}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":9,"column":12},"generated":{"line":1,"column":382}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":9,"column":18},"generated":{"line":1,"column":388}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":9,"column":41},"generated":{"line":1,"column":411}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":1,"column":415}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":12,"column":26},"generated":{"line":1,"column":417}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":12,"column":27},"generated":{"line":1,"column":426}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":429}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":433}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":437}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":21},"generated":{"line":1,"column":439}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":26},"generated":{"line":1,"column":444}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":1,"column":450}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":44},"generated":{"line":1,"column":452}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":13,"column":53},"generated":{"line":1,"column":459}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":462}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":15,"column":21},"generated":{"line":1,"column":464}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":15,"column":25},"generated":{"line":1,"column":468}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":15,"column":49},"generated":{"line":1,"column":479}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":15,"column":36},"generated":{"line":1,"column":481}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":484}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":486}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":16,"column":27},"generated":{"line":1,"column":490}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":16,"column":51},"generated":{"line":1,"column":501}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":16,"column":38},"generated":{"line":1,"column":503}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":506}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":18,"column":19},"generated":{"line":1,"column":508}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":1,"column":510}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":512}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":514}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":516}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":518}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":22,"column":22},"generated":{"line":1,"column":520}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":22,"column":34},"generated":{"line":1,"column":522}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":530}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":1,"column":532}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":537}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":23,"column":42},"generated":{"line":1,"column":539}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":544}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":546}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":1,"column":551}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":24,"column":42},"generated":{"line":1,"column":553}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":558}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":1,"column":560}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":565}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":25,"column":42},"generated":{"line":1,"column":567}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":572}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":574}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":1,"column":579}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":26,"column":46},"generated":{"line":1,"column":581}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":586}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":592}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":593}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":604}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":606}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":29,"column":35},"generated":{"line":1,"column":619}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":623}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":631}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":639}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":641}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":650}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":653}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":655}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":665}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":677}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":679}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":690}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":703}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":705}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":719}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":735}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":737}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":756}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":777}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":779}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":799}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":1,"column":821}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":822}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":826}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":834}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":842}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":844}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":849}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":853}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":855}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":866}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":875}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":877}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":880}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":884}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":886}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":888}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":896}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":1,"column":903}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":906}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":52,"column":19},"generated":{"line":1,"column":908}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":910}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":1,"column":918}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":52,"column":32},"generated":{"line":1,"column":926}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":929}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":932}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":15},"generated":{"line":1,"column":934}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":941}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":27},"generated":{"line":1,"column":943}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":33},"generated":{"line":1,"column":949}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":37},"generated":{"line":1,"column":953}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":54,"column":43},"generated":{"line":1,"column":959}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":994}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":998}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":1000}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":1004}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":1,"column":1015}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":56,"column":40},"generated":{"line":1,"column":1017}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1021}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":41},"generated":{"line":1,"column":1023}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":59},"generated":{"line":1,"column":1025}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":1,"column":1028}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":1030}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":1032}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":24},"generated":{"line":1,"column":1043}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":1,"column":1045}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":1,"column":1047}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":1060}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":1065}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":59,"column":22},"generated":{"line":1,"column":1076}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":1078}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":40},"generated":{"line":1,"column":1080}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":45},"generated":{"line":1,"column":1085}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":46},"generated":{"line":1,"column":1094}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":52},"generated":{"line":1,"column":1097}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":52},"generated":{"line":1,"column":1104}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":61,"column":56},"generated":{"line":1,"column":1106}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":1,"column":1112}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":62,"column":29},"generated":{"line":1,"column":1117}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":62,"column":44},"generated":{"line":1,"column":1130}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":1133}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":1138}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1143}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":64,"column":29},"generated":{"line":1,"column":1145}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":1,"column":1147}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":1154}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":1159}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":66,"column":17},"generated":{"line":1,"column":1165}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":66,"column":22},"generated":{"line":1,"column":1167}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":1173}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":1178}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":67,"column":18},"generated":{"line":1,"column":1185}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":67,"column":23},"generated":{"line":1,"column":1187}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":68,"column":9},"generated":{"line":1,"column":1194}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":68,"column":9},"generated":{"line":1,"column":1199}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":68,"column":28},"generated":{"line":1,"column":1216}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1218}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":1225}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":1227}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":1232}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":17},"generated":{"line":1,"column":1241}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":1244}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":1251}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":45},"generated":{"line":1,"column":1255}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":41,"column":49},"generated":{"line":1,"column":1257}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1261}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":1263}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":1266}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":1274}},{"source":"../../src/utils/png.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":1278}}],"sources":{"../../src/utils/png.ts":"import UPNG from '@pdf-lib/upng';\n\nconst getImageType = (ctype: number) => {\n  if (ctype === 0) return PngType.Greyscale;\n  if (ctype === 2) return PngType.Truecolour;\n  if (ctype === 3) return PngType.IndexedColour;\n  if (ctype === 4) return PngType.GreyscaleWithAlpha;\n  if (ctype === 6) return PngType.TruecolourWithAlpha;\n  throw new Error(`Unknown color type: ${ctype}`);\n};\n\nconst splitAlphaChannel = (rgbaChannel: Uint8Array) => {\n  const pixelCount = Math.floor(rgbaChannel.length / 4);\n\n  const rgbChannel = new Uint8Array(pixelCount * 3);\n  const alphaChannel = new Uint8Array(pixelCount * 1);\n\n  let rgbaOffset = 0;\n  let rgbOffset = 0;\n  let alphaOffset = 0;\n\n  while (rgbaOffset < rgbaChannel.length) {\n    rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n    rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n    rgbChannel[rgbOffset++] = rgbaChannel[rgbaOffset++];\n    alphaChannel[alphaOffset++] = rgbaChannel[rgbaOffset++];\n  }\n\n  return { rgbChannel, alphaChannel };\n};\n\nexport enum PngType {\n  Greyscale = 'Greyscale',\n  Truecolour = 'Truecolour',\n  IndexedColour = 'IndexedColour',\n  GreyscaleWithAlpha = 'GreyscaleWithAlpha',\n  TruecolourWithAlpha = 'TruecolourWithAlpha',\n}\n\nexport class PNG {\n  static load = (pngData: Uint8Array) => new PNG(pngData);\n\n  readonly rgbChannel: Uint8Array;\n  readonly alphaChannel?: Uint8Array;\n  readonly type: PngType;\n  readonly width: number;\n  readonly height: number;\n  readonly bitsPerComponent: number;\n\n  private constructor(pngData: Uint8Array) {\n    const upng = UPNG.decode(pngData);\n    const frames = UPNG.toRGBA8(upng);\n\n    if (frames.length > 1) throw new Error(`Animated PNGs are not supported`);\n\n    const frame = new Uint8Array(frames[0]);\n    const { rgbChannel, alphaChannel } = splitAlphaChannel(frame);\n\n    this.rgbChannel = rgbChannel;\n\n    const hasAlphaValues = alphaChannel.some((a) => a < 1);\n    if (hasAlphaValues) this.alphaChannel = alphaChannel;\n\n    this.type = getImageType(upng.ctype);\n\n    this.width = upng.width;\n    this.height = upng.height;\n    this.bitsPerComponent = 8;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"e6e00180e69b8ad5ecc922e7f24a498a","cacheData":{"env":{}}}